{"version":3,"sources":["components/Filter.js","components/Form.js","components/ShowNumbers.js","services/persons.js","components/Notification.js","components/Error.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","value","handleSearch","onChange","Form","checkIfExists","newName","newNumber","handleNameChange","handleNumberChange","handleSubmit","onSubmit","type","ShowNumbers","persons","handleDeleteButton","map","person","i","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","delete","console","log","put","styles","background","border","color","padding","wrapperDiv","height","width","display","flexFlow","justifyContent","alignItems","Notification","notification","style","Error","App","useState","setPersons","filteredResult","setFilteredResult","setNewName","setNewNumber","searchTerm","setSearchTerm","showNames","setShowNames","setNotification","error","setError","useEffect","personsData","res","e","target","length","filtered","filter","p","toLowerCase","includes","preventDefault","toUpperCase","window","confirm","event","personsUpdate","find","updatedPerson","catch","setTimeout","handleUpdate","phonebookObject","concat","addPerson","deletePerson","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a079f170.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ value, handleSearch }) => {\n  return (\n    <div>\n      Filter: <input value={value} onChange={handleSearch} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Form = ({\n  checkIfExists,\n  newName,\n  newNumber,\n  handleNameChange,\n  handleNumberChange,\n  handleSubmit,\n}) => {\n  return (\n    <form onSubmit={checkIfExists}>\n      <div>\n        <p>\n          Name: <input value={newName} onChange={handleNameChange} />\n        </p>\n        <p>\n          Number: <input value={newNumber} onChange={handleNumberChange} />\n        </p>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\n\nconst ShowNumbers = ({ persons, handleDeleteButton }) => {\n  return (\n    <div>\n      <ul>\n        {persons.map((person, i) => (\n          <p key={i}>\n            {person.name} {person.number}\n            <button onClick={() => handleDeleteButton(person.id)}>\n              delete\n            </button>\n          </p>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default ShowNumbers;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(console.log(\"Entry deleted\"));\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update,\n};\n","import React from \"react\";\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return (\n    <div style={wrapperDiv}>\n      <div style={styles}>{notification}</div>\n    </div>\n  );\n};\n\nconst styles = {\n  background: \"green\",\n  border: \"3px white solid\",\n  color: \"white\",\n  padding: \"5px\",\n};\n\nconst wrapperDiv = {\n  background: \"green\",\n  padding: \"5px 5px\",\n  height: 100,\n  width: 100,\n  display: \"flex\",\n  flexFlow: \"row\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n};\n\nexport default Notification;\n","import React from \"react\";\n\nconst Error = ({ notification }) => {\n  if (notification === null) {\n    return null;\n  }\n\n  return (\n    <div style={wrapperDiv}>\n      <div style={styles}>{notification}</div>\n    </div>\n  );\n};\n\nconst styles = {\n  background: \"red\",\n  border: \"3px white solid\",\n  color: \"white\",\n  padding: \"5px\",\n};\n\nconst wrapperDiv = {\n  background: \"red\",\n  padding: \"5px 5px\",\n  height: 100,\n  width: 100,\n  display: \"flex\",\n  flexFlow: \"row\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n};\n\nexport default Error;\n","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Form from \"./components/Form\";\nimport ShowNumbers from \"./components/ShowNumbers\";\nimport personsData from \"./services/persons\";\nimport Notification from \"./components/Notification\";\nimport Error from \"./components/Error\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filteredResult, setFilteredResult] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [showNames, setShowNames] = useState(true);\n  const [notification, setNotification] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    personsData.getAll().then((res) => {\n      setPersons(res);\n    });\n  }, []);\n\n  const addPerson = (e) => {\n    const phonebookObject = {\n      name: newName,\n      number: newNumber,\n      id: persons[persons.length - 1].id + 1,\n    };\n\n    personsData\n      .create(phonebookObject)\n      .then((res) => {\n        setPersons(persons.concat(res));\n        setNotification(`${newName} was added`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        setError(`${error.response.data.error}`);\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const deletePerson = (id) => {\n    personsData\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter((p) => p.id !== id));\n        setNotification(\"Succesfully deleted\");\n      })\n      .catch((error) => {\n        setError(\"This log has already been deleted\");\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n\n  const handleUpdate = (event) => {\n    const personsUpdate = persons.find((p) => p.name === newName);\n    const updatedPerson = { ...personsUpdate, number: newNumber };\n    const id = personsUpdate.id;\n\n    personsData\n      .update(id, updatedPerson)\n      .then((res) => {\n        setPersons(persons.map((p) => (p.id !== id ? p : res)));\n        setNotification(`${updatedPerson.name} updated`);\n      })\n      .catch((error) => {\n        setError(\n          `${updatedPerson.name} has already been deleted from the server`\n        );\n        setTimeout(() => {\n          setError(null);\n        }, 5000);\n      });\n    setTimeout(() => {\n      setNotification(null);\n    }, 5000);\n  };\n  // const addName = (e) => {\n  //   e.preventDefault();\n  // };\n\n  const handleSearch = (e) => {\n    const value = e.target.value;\n    setSearchTerm(value);\n    value.length <= 0 ? setShowNames(true) : setShowNames(false);\n    const filtered = persons.filter((p) =>\n      p.name.toLowerCase().includes(searchTerm)\n    );\n    setFilteredResult(filtered);\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleDeleteButton = (id) => {\n    const name = persons.find((p) => p.id === id).name;\n    if (window.confirm(`Delete ${name}?`)) {\n      deletePerson(id);\n    }\n  };\n\n  const checkIfExists = (e) => {\n    e.preventDefault();\n\n    const match = persons.filter(\n      (p) => p.name.toUpperCase() === newName.toUpperCase()\n    );\n\n    if (match.length > 0) {\n      const confirm = window.confirm(\n        `${newName} is already in the phonebook, do you want to update the number?`\n      );\n      if (confirm) {\n        handleUpdate();\n      }\n      setNewNumber(\"\");\n      setNewNumber(\"\");\n    } else {\n      addPerson();\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Error notification={error} />\n      <Filter value={searchTerm} handleSearch={handleSearch} />\n      <h3>Add a new person</h3>\n      <Form\n        checkIfExists={checkIfExists}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        // handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n\n      <ShowNumbers\n        persons={showNames ? persons : filteredResult}\n        handleDeleteButton={handleDeleteButton}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}