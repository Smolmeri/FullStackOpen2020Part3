(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t(1),o=t(15),a=t.n(o),u=(t(21),t(6)),r=t(3),l=function(e){var n=e.value,t=e.handleSearch;return Object(c.jsxs)("div",{children:["Filter: ",Object(c.jsx)("input",{value:n,onChange:t})]})},d=function(e){var n=e.checkIfExists,t=e.newName,i=e.newNumber,o=e.handleNameChange,a=e.handleNumberChange;e.handleSubmit;return Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{children:["Name: ",Object(c.jsx)("input",{value:t,onChange:o})]}),Object(c.jsxs)("p",{children:["Number: ",Object(c.jsx)("input",{value:i,onChange:a})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){var n=e.persons,t=e.handleDeleteButton;return Object(c.jsx)("div",{children:Object(c.jsx)("ul",{children:n.map((function(e,n){return Object(c.jsxs)("p",{children:[e.name," ",e.number,Object(c.jsx)("button",{onClick:function(){return t(e.id)},children:"delete"})]},n)}))})})},h=t(4),b=t.n(h),j="/api/persons",f=function(){return b.a.get(j).then((function(e){return e.data}))},p=function(e){return b.a.post(j,e).then((function(e){return e.data}))},O=function(e){return b.a.delete("".concat(j,"/").concat(e)).then(console.log("Entry deleted"))},m=function(e,n){return b.a.put("".concat(j,"/").concat(e),n).then((function(e){return e.data}))},x={background:"green",border:"3px white solid",color:"white",padding:"5px"},g={background:"green",padding:"5px 5px",height:100,width:100,display:"flex",flexFlow:"row",justifyContent:"center",alignItems:"center"},v=function(e){var n=e.notification;return null===n?null:Object(c.jsx)("div",{style:g,children:Object(c.jsx)("div",{style:x,children:n})})},w={background:"red",border:"3px white solid",color:"white",padding:"5px"},y={background:"red",padding:"5px 5px",height:100,width:100,display:"flex",flexFlow:"row",justifyContent:"center",alignItems:"center"},C=function(e){var n=e.notification;return null===n?null:Object(c.jsx)("div",{style:y,children:Object(c.jsx)("div",{style:w,children:n})})},S=function(){var e=Object(i.useState)([]),n=Object(r.a)(e,2),t=n[0],o=n[1],a=Object(i.useState)([]),h=Object(r.a)(a,2),b=h[0],j=h[1],x=Object(i.useState)(""),g=Object(r.a)(x,2),w=g[0],y=g[1],S=Object(i.useState)(""),k=Object(r.a)(S,2),N=k[0],T=k[1],F=Object(i.useState)(""),I=Object(r.a)(F,2),D=I[0],E=I[1],B=Object(i.useState)(!0),L=Object(r.a)(B,2),P=L[0],J=L[1],U=Object(i.useState)(null),A=Object(r.a)(U,2),q=A[0],z=A[1],G=Object(i.useState)(null),H=Object(r.a)(G,2),K=H[0],M=H[1];Object(i.useEffect)((function(){f().then((function(e){o(e)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(v,{notification:q}),Object(c.jsx)(C,{notification:K}),Object(c.jsx)(l,{value:D,handleSearch:function(e){var n=e.target.value;E(n),n.length<=0?J(!0):J(!1);var c=t.filter((function(e){return e.name.toLowerCase().includes(D)}));j(c)}}),Object(c.jsx)("h3",{children:"Add a new person"}),Object(c.jsx)(d,{checkIfExists:function(e){(e.preventDefault(),t.filter((function(e){return e.name.toUpperCase()===w.toUpperCase()})).length>0)?(window.confirm("".concat(w," is already in the phonebook, do you want to update the number?"))&&function(e){var n=t.find((function(e){return e.name===w})),c=Object(u.a)(Object(u.a)({},n),{},{number:N}),i=n.id;m(i,c).then((function(e){o(t.map((function(n){return n.id!==i?n:e}))),z("".concat(c.name," updated"))})).catch((function(e){M("".concat(c.name," has already been deleted from the server")),setTimeout((function(){M(null)}),5e3)})),setTimeout((function(){z(null)}),5e3)}(),T(""),T("")):(p({name:w,number:N}).then((function(e){o(t.concat(e)),z("".concat(w," was added")),y(""),T("")})).catch((function(e){console.log(e.response.data),M("".concat(e.response.data.error)),setTimeout((function(){M(null)}),5e3)})),setTimeout((function(){z(null)}),5e3))},newName:w,newNumber:N,handleNameChange:function(e){y(e.target.value)},handleNumberChange:function(e){T(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(s,{persons:P?t:b,handleDeleteButton:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n,"?"))&&function(e){O(e).then((function(){o(t.filter((function(n){return n.id!==e}))),z("Succesfully deleted")})).catch((function(e){M("This log has already been deleted"),setTimeout((function(){M(null)}),5e3)})),setTimeout((function(){z(null)}),5e3)}(e)}})]})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),o(e),a(e)}))};a.a.render(Object(c.jsx)(S,{}),document.getElementById("root")),k()}},[[39,1,2]]]);
//# sourceMappingURL=main.b7a78f3b.chunk.js.map